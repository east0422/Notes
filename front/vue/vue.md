# vue

### proxy
  - 使用代理注意配置的请求host(默认是localhost)和port。

### v-for中key的作用
  - key唯一标识尽量是item里面id等，因为vue组件高度复用增加Key可以标识组件的唯一性，为了更好地区别各个组件key的作用主要是为了高效的更新虚拟DOM。
  - key主要用来做dom diff算法用的，diff算法是同级比较，比较当前标签上的key还有它当前的标签名，如果key和标签名都一样时只是做了一个移动的操作，不会重新创建元素和删除元素。
  - 没有key的时候默认使用的是“就地复用”策略。如果数据项的顺序被改变，Vue不是移动Dom元素来匹配数据项的改变，而是简单复用原来位置的每个元素。如果删除第一个元素，在进行比较时发现标签一样值不一样时，就会复用之前的位置，将新值直接放到该位置，以此类推，最后多出一个就会把最后一个删除掉。
  - 尽量不要使用索引值index作key值，一定要用唯一标识的值，如id等。因为若用数组索引index为key，当向数组中指定位置插入一个新元素后，因为这时候会重新更新index索引，对应着后面的虚拟DOM的key值全部更新了，这个时候还是会做不必要的更新，就像没有加key一样，因此index虽然能够解决key不冲突的问题，但是并不能解决复用的情况。如果是静态数据，用索引号index做key值是没有问题的。
  - 标签名一样，key一样这时候就会就地复用，如果标签名不一样，key一样不会复用。

### 性能优化
  - v-show与v-if使用
  - for循环添加key
  - 路由离开及时销毁定时器和解绑事件，移除自己添加的监听事件等
  - keep-alive缓存页面
  - 节流(throttle)，防抖(debounce)
  - 懒加载(路由、图片等)，异步组件
  - 第三方插件若非必要按需引入避免加载全部
  - 打包配置优化
  - cdn
  - 减低页面加载时间
    - 压缩css、js文件
    - 合并js、css文件，减少http请求
    - 外部js、css文件放在最底下
    - 减少dom操作，尽可能用变量替代不必要的dom操作

### v-if与v-show
  - v-show动态控制DOM元素的显示和隐藏。当v-show值为false时，绑定DOM的display:none；当v-show值为true时，绑定DOM会移除display:none，此时并不是把display变为block，而是保持元素style的原始性。只是简单的基于CSS切换，不管初始条件是什么，元素总是会被渲染存在。值的更改不会触发组件的生命周期。
  - v-if根据表达式值的真假来销毁或重建一个我们绑定的DOM元素，为false设置隐藏是将DOM元素整个删除，此时DOM元素不再存在。切换有一个局部编译/卸载的过程，切换过程中合适地销毁和重建内部的事件监听和子组件。v-if由false变为true时，触发组件的beforeCreate、create、beforeMount、mounter钩子，由true变为false时，触发组件的beforeDestory、destoryed方法。v-if是真正的条件渲染，它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建；v-if也是惰性的，如果初始渲染时条件为假，则什么也不做——直到为真时才开始渲染条件块。
  - v-show有更高的初始渲染消耗，v-if有更高的切换消耗。若需要非常频繁地切换，则使用v-show较好；若在运行时条件很少改变，则使用v-if较好。

